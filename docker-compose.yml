version: "3.2"
services:
    app:
      build: 
        context: .
        dockerfile: Dockerfile
        args:
          # [Choice] Node.js version: 14, 12, 10
          VARIANT: 14
          # On Linux, you may need to update USER_UID and USER_GID below if not your local UID is not 1000.
          USER_UID: 1000
          USER_GID: 1000
      # Overrides default command so things don't shut down after the process ends.
      command: sleep infinity
      volumes:
        - ./:/var/www/app
      # Runs app on the same network as the database container, allows "forwardPorts" in devcontainer.json function.
      # network_mode: service:db

      ports:
        - 3000:3000

volumes:
    db_data: {}